use.external_contract::amm_contract
use.std::sys

begin
    # 10_000 * 1e3
    push.10000000

    # 100_000 * 1e3
    push.100000000
    push.100000000
    # => [x, y, dx]

    # returns fixed point base 1e3
    call.amm_contract::get_amount_y_out
    # => [dy]

    push.111 debug.stack drop

    exec.sys::truncate_stack
end
